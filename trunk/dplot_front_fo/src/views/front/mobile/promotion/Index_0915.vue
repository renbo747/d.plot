<template>    
	<main class="welcome_promotion">
		<section class="title">
				<span class="top_title">Discover the Benefits!</span>
				<h1>
						<span><img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/dplot_logo.png" alt="" /></span>
						<span class="text_title">신규 회원 가입 혜택</span>
				</h1>
				<p>
						스토리가 있는 브랜드 셀렉트숍, 디플롯 가입하고 <br />
						웰컴 쿠폰팩과 추가 혜택까지 기분 좋게 챙겨보세요.
				</p>
				<div class="tags"><img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/tags.png" alt="" /></div>
		</section>

		<section class="section01">
				<h2>
						<span class="top_title">D.PLOT 회원만을 위한</span>
						<span class="title_content"><strong>WELCOME</strong> 쿠폰팩</span>
				</h2>
				<div class="coupon_wrap">
						<div class="coupon_tab">MEMBERS ONLY</div>
						<div class="coupon_content">
								<div class="coupon_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon01.png" alt="" />
								</div>
								<div class="coupon_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon02.png" alt="" />
								</div>
								<div class="coupon_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon03.png" alt="" />
								</div>
								<div class="coupon_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon04.png" alt="" />
								</div>
						</div>
				</div>
				<div class="btn_wrap">
						<router-link :to = "{name:'member-login'}">
								<div class="btn_green">
										<span
												><img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/dplot_logo_green.png" alt=""
										/></span>
										<span>신규 가입하기</span>
								</div>
						</router-link>
				</div>
		</section>
		
		<div class="tab_wrap" id="prom_tab_menu">
			<ul>
				<li class="prom01_tab"><a @click="scrollToTargetAdjusted('prom01')">첫 구매<br />혜택</a></li>
				<li class="prom02_tab"><a @click="scrollToTargetAdjusted('prom02')">첫 구매<br />감사</a></li>
				<li class="prom03_tab"><a @click="scrollToTargetAdjusted('prom03')">카카오 채널<br />친구 추가</a></li>
				<li class="prom04_tab"><a @click="scrollToTargetAdjusted('prom04')">앱 다운로드<br />혜택</a></li>
			</ul>
		</div>

		<section class="section02 content" id="prom01">
				<div class="title_wrap">
						<div class="title_number">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/tab_title01.png" alt="" />
						</div>
						<div class="title_content">#첫 구매 혜택</div>
						<div class="title_desc">
								디플롯 신규 회원에게 <span class="green_line">가입 즉시 사용 가능한 10% 쿠폰</span>과<br />
								5만원 쿠폰팩을 드립니다.
						</div>
				</div>
				<div class="section_content">
						<div class="img_box big_coupon">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/big_coupon01.png" alt="" />
								<p class="noti_text">* 웰컴 베네핏은 신규 가입 시 자동으로 지급됩니다.</p>
						</div>
						<div class="img_box plus">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/plus.png" alt="" />
						</div>
						<p>
								<span class="green_line">신규 회원 대상</span>으로 드리는<br />
								웰컴 5만원 쿠폰팩으로 망설임 없이 쇼핑하세요.
						</p>
						<div class="coupon_wrap">
								<div class="img_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon_10000.png" alt="" />
								</div>
								<div class="img_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon_15000.png" alt="" />
								</div>
								<div class="img_box">
										<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon_25000.png" alt="" />
								</div>
						</div>
						<div class="btn_wrap">
								<router-link :to = "{name:'member-login'}">
										<div class="btn_black_solid">
												<span>3초 회원 가입하기</span>
										</div>
								</router-link>
						</div>
				</div>
		</section>

		<section class="section03 content" id="prom02">
				<div class="title_wrap">
						<div class="title_number">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/tab_title02.png" alt="" />
						</div>
						<div class="title_content">#첫 구매 감사</div>
						<div class="title_desc">
								웰컴 베네핏을 다-사용하셨대도 걱정마세요.<br />
								첫 구매 고객에게 <span class="green_line">감사의 마음을 담아 추가 쿠폰</span>을 드립니다.<br />
								마이페이지에서 확인해보세요.
						</div>
				</div>
				<div class="section_content">
						<div class="img_box">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon_7per.png" alt="" />
								<p class="noti_text">* 첫 구매 배송 완료 후 구매 확정을 하면 쿠폰이 자동으로 <br />지급됩니다.</p>
						</div>
						<div class="img_box" style="display: none">
								<router-link :to = "{name:'promotion-detail', params:{eventidx: 34}}">
									<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/grand_open.png" alt="" />
								</router-link>
						</div>
				</div>
		</section>

		<section class="section04 content" id="prom03">
				<div class="title_wrap">
						<div class="title_number">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/tab_title03.png" alt="" />
						</div>
						<div class="title_content">
								#카카오 채널 친구 추가하고<br />
								10,000원 받으세요
						</div>
						<div class="title_desc">
								카카오 채널 친구 추가하면 <span class="green_line">10,000원 쿠폰</span>을 드립니다.<br />
								쿠폰도 발급 받고 새로운 이벤트 소식을 가장 먼저 받아보세요.
						</div>
				</div>
				<div class="section_content">
						<div class="img_box">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon_10000_kakao.png" alt="" />
						</div>
						<div class="btn_wrap">
								<a href="http://pf.kakao.com/_TxcxcMxb" target="_blank">
										<div class="btn_black_solid">
												<span>카카오 채널 친구 맺기</span>
										</div>
								</a>
						</div>
				</div>
		</section>

		<section class="section05 content" id="prom04">
				<div class="title_wrap">
						<div class="title_number">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/tab_title04.png" alt="" />
						</div>
						<div class="title_content">#앱 다운로드 혜택</div>
						<div class="title_desc">
								앱을 통해 디플롯을 한층 편리하게 만나보세요.<br />
								<span class="green_line">앱 전용 15% 쿠폰</span>과<br />
								함께 더 많은 혜택이 찾아옵니다.
						</div>
				</div>
				<div class="section_content">
						<div class="img_box">
								<img src="http://d2ljev2ny8cy61.cloudfront.net/dplot/platfrom/promotion/welcome/mobile/coupon_mobile_page.png" alt="" />
						</div>
						<div class="btn_wrap">
								<div class="btn_black_solid" @click="getCoupon" v-if="isMobileApp">
										<span>앱 전용 쿠폰 받기</span>
								</div>
								<div class="btn_black_solid" @click="goToDownloadApp" v-else>
										<span>앱 다운로드</span>
								</div>
						</div>
				</div>
		</section>

		<section class="section06 content">
				<div class="text_wrap">
						<div class="notice_title">
								<p>꼭 읽어주세요!</p>
						</div>
						<ul class="notice_list">
								<li>'첫 구매 쿠폰+웰컴 쿠폰팩'은 신규 가입 시 자동으로 지급됩니다.</li>
								<li>'첫 구매 쿠폰'은 최대 120,000원까지 할인이 적용되며, 유효기간은 지급일로부터 1개월입니다.</li>
								<li>
									'5만원 웰컴 쿠폰팩'은 판매가 기준으로 적용되며, 1만원권은 5만원, 1만 5천원은 10만원, 2만 5천원은 20만원 이상 구매 시 사용
									가능합니다.
								</li>
								<li>'5만원 웰컴 쿠폰팩'의 유효기간은 지급일로부터 2개월입니다.</li>
								<li>'첫구매 감사 쿠폰'은 첫 구매 배송 완료 후 구매 확정 시 자동으로 쿠폰이 지급됩니다.</li>
								<li>'첫구매 감사 쿠폰'의 유효기간은 지급일로부터 1개월입니다.</li>
								<li>'카카오 채널 1만원 쿠폰'은 100,000원 이상 구매 시 적용이 가능하며, 유효기간은 지급일로부터 2개월입니다.</li>
								<li>'앱 다운로드 15% 쿠폰'은 100,000원 이상 구매 시 적용이 가능하며 앱 전용 쿠폰으로 디플롯 앱에서만 사용 가능합니다.</li>
								<li>'앱 다운로드 15% 쿠폰'은 최대 150,000원까지 할인이 적용되며, 유효기간은지급일로부터 2개월입니다.</li>
								<li>발급된 모든 쿠폰은 각각 타 쿠폰과의 중복 사용이 불가합니다.</li>
								<li>발급된 쿠폰은 '마이페이지 > 쿠폰'에서 확인이 가능합니다.</li>
						</ul>
				</div>
		</section>
	</main>
</template>

<script>
export default {
	data(){
		return{
			isMobileApp : false
		}
	},
	methods: {
		goToDownloadApp() {
			let osName = this.$util.isAndroid();

			if(osName=="android"){
				// 안드로이드 앱 다운로드 url
				window.location.href = 'https://play.google.com/store/apps/details?id=kr.co.dplot';
			}
			else if(osName=="ios"){
				window.location.href = 'https://apps.apple.com/kr/app/%EB%94%94%ED%94%8C%EB%A1%AF/id1624417666';
			}
			else{
				alert("모바일 사용자가 아닙니다.");
			}
			
		},
		getCoupon(){
			this.$http.post('/coupon/down', {cpninfoidx:391}).then(result => {
				if (result.statusCode == 200) {
					//성공
					alert('쿠폰 받기가 완료 되었어요.');
				}else{
					//실패
				}
			})
		},
		scrollToTargetAdjusted(element){
			element = document.querySelector(`#${element}`)
			var headerOffset = 0;
			var elementPosition = element.getBoundingClientRect().top;
			var offsetPosition = elementPosition + window.pageYOffset - headerOffset - 70;
		
			window.scrollTo({
				top: offsetPosition,
				behavior: "smooth"
			});
		},
		getAbsoluteTop(element) {
			return element.getBoundingClientRect().top;
		}
	},
	mounted() {
		this.browser = this.$util.browser();
		/**********************
		 * 앱으로 보기 유도 팝업 SESSION 관리
		 ********************/
		if (window.sessionStorage.getItem("platform") == "MAC003" && this.$util.isNull(this.$cookies.get("APP_POP_CLOSE_ONEDAY"))) {
		this.isMobileApp = true;
		} else {
		this.isMobileApp = false;
		}
		const promTab = this.$scrollmagic.scene({
			triggerElement: '#prom01',
			duration:3350,
			triggerHook: 0,
			offset:-70,
		})
		.setClassToggle('#prom_tab_menu','active')

		const prom01 = this.$scrollmagic.scene({
			triggerElement: '#prom01',
			duration:1290,
			triggerHook: 0,
			offset:-70,
		})
		.setClassToggle('.prom01_tab','active')

		const prom02 = this.$scrollmagic.scene({
			triggerElement: '#prom02',
			duration:600,
			triggerHook: 0,
			offset:-70,
		})
		.setClassToggle('.prom02_tab','active')
		const prom03 = this.$scrollmagic.scene({
			triggerElement: '#prom03',
			duration:650,
			triggerHook: 0,
			offset:-70,
		})
		.setClassToggle('.prom03_tab','active')
		const prom04 = this.$scrollmagic.scene({
			triggerElement: '#prom04',
			duration:800,
			triggerHook: 0,
			offset:-70,
		})
		.setClassToggle('.prom04_tab','active')

		this.$scrollmagic.addScene(promTab)
		this.$scrollmagic.addScene(prom01)
		this.$scrollmagic.addScene(prom02)
		this.$scrollmagic.addScene(prom03)
		this.$scrollmagic.addScene(prom04)
	},
};    
</script>

<style scoped>
	#prom01 {height:1290px; box-sizing: border-box;}
	#prom02 {height:600px; box-sizing: border-box;}
	#prom03 {height:650px; box-sizing: border-box;}
	#prom04 {height:800px; box-sizing: border-box;}
	.welcome_promotion {
			width: 100%;
			max-width: 1280px;
			margin: 0 auto;
			font-family: 'AttenNew', 'AppleSDGothicNeo', sans-serif;
			overflow: hidden;
	}
	.welcome_promotion section.title {
			background: #f5f5f5;
			position: relative;
			padding: 50px 5%;
	}
	.welcome_promotion section.title .top_title {
			font-size: 18px;
			color: #000;
			letter-spacing: -0.2px;
			font-weight: 600;
			margin-bottom: 15px;
			display: inline-block;
			line-height: 1;
	}
	.welcome_promotion section.title h1 span {
			display: block;
			font-size: 28px;
			font-weight: 900;
			letter-spacing: -2px;
			margin-bottom: 16px;
			line-height: 1;
	}
	.welcome_promotion section.title h1 span img {
			max-width: 118px;
	}
	.welcome_promotion section.title h1 span.text_title {
			position: relative;
			left: -4px;
	}
	.welcome_promotion section.title p {
			font-size: 16px;
			letter-spacing: -1px;
			font-weight: 500;
			margin-bottom: 0;
	}
	.welcome_promotion .tags {
			position: absolute;
			top: 0;
			right: -5px;
			animation: tagMove 3s infinite;
			max-width: 30%;
			transform-origin: top;
	}
	.welcome_promotion .tags img {
			width: 100%;
	}
	@keyframes tagMove {
			0% {
					transform: rotate(0);
			}
			50% {
					transform: rotate(1deg);
			}
			100% {
					transform: rotate(0);
			}
	}
	.welcome_promotion .section01 {
			background: #000;
			color: #fff;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			padding: 65px 0 65px;
	}
	.welcome_promotion .section01 h2 {
			text-align: center;
			margin-bottom: 30px;
	}
	.welcome_promotion .section01 .top_title {
			font-size: 17px;
			display: block;
			font-weight: 400;
	}
	.welcome_promotion .section01 .title_content {
			font-size: 22px;
			display: block;
			letter-spacing: 0;
			margin-top: 10px;
			line-height: 1.4;
	}
	.welcome_promotion .section01 .title_content strong {
			font-size: 33px;
			font-weight: 600;
	}
	.welcome_promotion .coupon_wrap {
			width: 100%;
			max-width: 90%;
	}
	.welcome_promotion .coupon_tab {
			border-radius: 12px 12px 0 0;
			background: #cdff00;
			padding: 5px 15px 0 15px;
			display: inline-block;
			color: #000;
			font-size: 14px;
			font-weight: 600;
			position: relative;
			top: 2px;
	}
	.welcome_promotion .coupon_content {
			background: #cdff00;
			display: inline-flex;
			width: 100%;
			max-width: 100%;
			border-radius: 0 12px 12px 12px;
			padding: 10px;
			justify-content: space-between;
			flex-direction: column;
	}
	.welcome_promotion .coupon_content img {
			width: 100%;
			max-width: 100%;
	}
	.welcome_promotion .coupon_box {
			display: inline-block;
			margin-top: 10px;
	}
	.welcome_promotion .btn_wrap {
			margin-top: 36px;
			width: 90%;
	}
	.welcome_promotion .btn_green {
			color: #cdff00;
			border: 1px solid #cdff00;
			width: 100%;
			font-size: 18px;
			font-weight: 600;
			display: flex;
			justify-content: center;
			align-items: center;
			line-height: 1;
			letter-spacing: -1px;
			position: relative;
			cursor: pointer;
			padding: 20px 0;
	}
	.welcome_promotion .btn_green::after {
			content: '';
			position: absolute;
			top: 50%;
			right: 30px;
			transform: translate3d(0, -50%, 0);
			width: 8px;
			height: 15px;
			background: url(http://d2ljev2ny8cy61.cloudfront.netmobile/img/promotion/0915_newmember/arrow_right.png) no-repeat;
			background-size: 100%;
	}
	.welcome_promotion .btn_green span {
			display: flex;
			justify-content: center;
			align-items: center;
	}
	.welcome_promotion .btn_green span:first-child {
			margin-right: 10px;
			max-width: 70px;
	}
	.welcome_promotion .btn_green span:first-child img {
			width: 100%;
	}
	.welcome_promotion .btn_black_solid {
			background: #222222;
			color: #fff;
			padding: 20px 0;
			font-size: 18px;
			font-weight: 600;
			display: flex;
			justify-content: center;
			align-items: center;
			line-height: 1;
			letter-spacing: -1px;
			position: relative;
			cursor: pointer;
	}
	.welcome_promotion .btn_black_solid::after {
			content: '';
			position: absolute;
			top: 50%;
			right: 30px;
			transform: translate3d(0, -50%, 0);
			width: 8px;
			height: 15px;
			background: url(http://d2ljev2ny8cy61.cloudfront.netmobile/img/promotion/0915_newmember/arrow_right_white.png) no-repeat;
			background-size: 100%;
	}
	.welcome_promotion .tab_wrap {
		height: 0;
	}
	.welcome_promotion .tab_wrap.active {
		z-index: 300;
		top:70px;
		position:fixed;
		width: 100%;
		max-width:1280px;
		margin-top: 0;
		padding-top: 0;
	}
	.welcome_promotion .tab_wrap ul {
			display: flex;
			justify-content: space-between;
			padding: 0;
			margin: 0;
			position: relative;
			top: -20px;
	}
	.welcome_promotion .tab_wrap ul li {
			border: 1px solid #000;
			width: 100%;
			padding: 0;
			margin: 0;
			list-style: none;
			border-bottom: 1px solid #000;
			text-align: center;
			border-radius: 10px 10px 0 0;
			background: #cdff00;
	}
	.welcome_promotion .tab_wrap ul li.active {
			background: #fff;
			border-bottom: 0;
	}
	.welcome_promotion .tab_wrap ul li a {
			font-size: 15px;
			font-weight: 700;
			color: #000;
			display: block;
			width: 100%;
			height: 100%;
			padding: 12px 0 6px;
			letter-spacing: -1px;
			line-height: 1.2;
	}
	.welcome_promotion .content {
			padding: 105px 0 105px;
	}
	.welcome_promotion .title_wrap {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			text-align: center;
	}
	.welcome_promotion .title_wrap .title_number {
			max-width: 30px;
	}
	.welcome_promotion .title_wrap .title_number img {
			width: 100%;
	}
	.welcome_promotion .title_content {
			margin-top: 20px;
			font-size: 22px;
			letter-spacing: -1px;
			font-weight: 700;
			line-height: 1.4;
	}
	.welcome_promotion .title_desc {
			margin-top: 15px;
			font-size: 14px;
			letter-spacing: -1px;
			z-index: 2;
			position: relative;
	}
	.welcome_promotion .green_line {
			position: relative;
	}
	.welcome_promotion .green_line::after {
			content: '';
			position: absolute;
			width: 100%;
			height: 10px;
			background: #cdff00;
			bottom: 0;
			left: 0;
			z-index: -1;
	}
	.welcome_promotion .section_content {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
	}
	.welcome_promotion .noti_text {
			font-size: 12px;
			letter-spacing: -1px;
			color: #606060;
			text-align: left;
			position: relative;
	}
	.welcome_promotion .section02 .noti_text {
			font-size: 12px;
			letter-spacing: -1px;
			color: #606060;
			position: relative;
	}
	.welcome_promotion .plus {
			margin-top: 32px;
			margin-bottom: 40px;
			max-width: 50px;
	}
	.welcome_promotion .plus img {
			width: 100%;
			max-width: 40px;
	}
	.welcome_promotion .big_coupon {
			margin-top: 32px;
			max-width: 70%;
	}
	.welcome_promotion .big_coupon img {
			width: 100%;
	}
	.welcome_promotion .section02 p {
			font-size: 16px;
			letter-spacing: -1px;
			text-align: center;
			margin-bottom: 0;
			position: relative;
			z-index: 2;
	}
	.welcome_promotion .section02 .coupon_wrap {
			margin-top: 25px;
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			max-width: 100%;
	}
	.welcome_promotion .section02 .coupon_wrap .img_box {
			margin: 0 5px 10px;
			max-width: 70%;
	}
	.welcome_promotion .section02 .coupon_wrap .img_box img {
			width: 100%;
	}
	.welcome_promotion .section03 .section_content {
			display: flex;
			margin-top: 35px;
			align-items: center;
	}
	.welcome_promotion .section03 .section_content .img_box {
			max-width: 70%;
	}
	.welcome_promotion .section03 .section_content .img_box img {
			width: 100%;
	}
	.welcome_promotion .section03 .section_content .img_box:first-child {
			position: relative;
			top: 8px;
	}
	.welcome_promotion .section03 .section_content .img_box:last-child {
			margin-top: 20px;
	}
	.welcome_promotion .section03 .section_content .noti_text {
			text-align: center;
	}
	.welcome_promotion .section04 .section_content {
			margin-top: 35px;
	}
	.welcome_promotion .section04 .section_content .img_box {
			width: 70%;
	}
	.welcome_promotion .section04 .section_content .img_box img {
			width: 100%;
	}
	.welcome_promotion .section05 .section_content {
			margin-top: 25px;
	}
	.welcome_promotion .section05 .section_content .img_box {
			width: 70%;
	}
	.welcome_promotion .section05 .section_content .img_box img {
			width: 100%;
	}
	.welcome_promotion .section06 {
			background: #f1f1f1;
			padding: 55px 0 55px;
	}
	.welcome_promotion .section06 .text_wrap {
			padding: 0 5%;
	}
	.welcome_promotion .notice_title p {
			display: inline-block;
			border-bottom: 2px solid #3c3c3c;
			font-size: 18px;
			font-weight: 700;
			letter-spacing: -1px;
			padding: 0;
			margin-bottom: 0;
	}
	.welcome_promotion .notice_list {
			line-height: 1.8;
			font-size: 12px;
			font-weight: 400;
			padding: 0;
			margin: 0;
			margin-top: 25px;
	}
	.welcome_promotion .notice_list li {
			list-style: none;
			padding-left: 10px;
			position: relative;
			word-break: keep-all;
	}
	.welcome_promotion .notice_list li::before {
			content: '-';
			position: absolute;
			left: 0;
	}
</style>